(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37948],{20623:function(t,e,n){Promise.resolve().then(n.bind(n,95652))},41263:function(t,e,n){"use strict";n.d(e,{q:function(){return a}});let a=[{inputs:[{internalType:"address",name:"_zsdtToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"},{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"addToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"addUSDT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"getAmountZSDOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"projectUSDTPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"removeFromWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdtReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"}],name:"usdtTokenTozsdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"zsdReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"zsdtTokenTousdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"}]},18286:function(t,e,n){"use strict";n.r(e),n.d(e,{MenuContext:function(){return i},MenuProvider:function(){return u}});var a=n(3827),s=n(64090);let i=(0,s.createContext)({isRightMenuVisible:!1,toggleRightMenu:()=>{},hideRightMenu:()=>{}}),u=t=>{let{children:e}=t,[n,u]=(0,s.useState)(!1);return(0,a.jsx)(i.Provider,{value:{isRightMenuVisible:n,toggleRightMenu:()=>{u(t=>!t)},hideRightMenu:()=>{u(!1)}},children:e})}},95652:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return O}});var a=n(3827),s=n(64090),i=n(24232),u=n(18286),l=n(69916),o=n(22665),r=n(80588),d=n(38302),p=n(28683),c=n(70968),y=n(1861),m=n(87741),h=n(47275),b=n(94293),_=n(14698),T=n(46188),f=n(14297),S=n(62830),v=n(45376),x=n(54185),Z=n.n(x),g=n(66403),j=n(47822),F=n(37432),D=n(71007),w=n(41263),C=n(21427);let M=(0,m.P)({clientId:"ade9791d6b0b87ea307ef47d4903708c"}),k=C.F,A=F.T,P=w.q,I=D.u,U=(0,h.u)({client:M,address:g.c.USDTaddress,chain:j.e,abi:A}),N=(0,h.u)({client:M,address:g.c.ZSDSwapAddress,abi:P,chain:j.e}),R=(0,h.u)({client:M,address:g.c.ZSDaddress,abi:I,chain:j.e});(0,h.u)({client:M,address:g.c.ZSDPROJECTAddress,abi:k,chain:j.e});let{Option:z}=l.default;var B=()=>{let[t]=o.Z.useForm(),e=(0,f.M)(),{mutate:n,isPending:i}=(0,S.p)(),[u,m]=(0,s.useState)(0),[h,x]=(0,s.useState)(0),j=(0,a.jsx)(l.default,{defaultValue:"ZSD",className:"select-after",children:(0,a.jsx)(z,{value:"ZSD",children:"ZSD"})}),F=(0,a.jsx)(l.default,{defaultValue:"USDT",className:"select-after",children:(0,a.jsx)(z,{value:"USDT",children:"USDT"})}),D=async()=>{try{let t=(await (0,b.readContract)({contract:N,method:"function getAmountZSDOut(uint256) view returns (uint256)",params:[BigInt(1e18)]})).toString();m(t)}catch(t){console.error("查询失败:",t)}},w=async t=>{console.log(t.USDT_one_amount,"valuesvaluesvalues");try{let n=await (0,v.jA)({contract:R,address:e.address}),a=BigInt(n.toString())/BigInt(1e12),s=parseFloat(a.toString()),i=0==s?s:(parseFloat(a.toString())/1e6).toFixed(2);if(0>=Number(i)){r.ZP.info("您的账户ZSD余额不足,无法进行兑换！");return}let u=1e25*1e18,l=1e18*t.USDT_one_amount,o=(0,_.A)({contract:U,method:"function approve(address, uint256) returns (bool)",params:[g.c.ZSDSwapAddress,u]});await (0,T.B)({transaction:o,account:e});let d=(0,_.A)({contract:R,method:"function approve(address, uint256) returns (bool)",params:[g.c.ZSDSwapAddress,u]});await (0,T.B)({transaction:d,account:e});let p=(0,_.A)({contract:N,method:"function zsdtTokenTousdtTokenSwap(uint256 amountzsdtToken)",params:[BigInt(l)]});await (0,T.B)({transaction:p,account:e})}catch(t){console.error("未能成功兑换USDT:",t)}};return(0,s.useEffect)(()=>{e&&x(e.address)},[e]),(0,s.useEffect)(()=>{D()},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:Z().Content,children:[(0,a.jsx)("span",{className:Z().ContentText,children:"交易所"}),(0,a.jsxs)(o.Z,{name:"amount",onFinish:w,form:t,layout:"vertical",style:{color:"white"},children:[(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(p.Z,{span:24,children:(0,a.jsx)(o.Z.Item,{label:(0,a.jsx)("span",{className:Z().Contentlabel,children:"代币兑换"}),colon:!1,name:"USDT_one_amount",rules:[{required:!0,message:"请输入充入金额!"},{validator:(t,e)=>e?/^[0-9]*$/.test(e)?Promise.resolve():Promise.reject(Error("请输入有效的数字，不能输入负数和其他字符！")):Promise.resolve()}],children:(0,a.jsx)(c.Z,{addonAfter:j,placeholder:"请输入数量",className:Z().inputstyle,onChange:e=>{let n=e.target.value/u*1e18;t.setFieldsValue({ZSD_two_amount:n})}})})}),(0,a.jsx)(p.Z,{span:24,children:(0,a.jsx)(o.Z.Item,{colon:!1,name:"ZSD_two_amount",children:(0,a.jsx)(c.Z,{addonAfter:F,className:Z().inputstyle,disabled:!0})})})]}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(p.Z,{span:24,children:(0,a.jsx)(o.Z.Item,{children:(0,a.jsx)(y.ZP,{type:"primary",htmlType:"submit",className:Z().buttonstyle,children:"兑换"})})})})]})]})})};let E=(0,i.default)(()=>Promise.all([n.e(27508),n.e(3003),n.e(25283),n.e(28200),n.e(58183)]).then(n.bind(n,32155)),{loadableGenerated:{webpack:()=>[32155]},ssr:!0});var O=()=>(0,a.jsxs)(u.MenuProvider,{children:[(0,a.jsx)(E,{}),(0,a.jsx)(B,{})]})},54185:function(t){t.exports={Content:"Flash_Content__0Di5s",inputstyle:"Flash_inputstyle__FrTRi",buttonstyle:"Flash_buttonstyle__XJ9v2",buttonHelpFriendstyle:"Flash_buttonHelpFriendstyle__edK_e",ContentText:"Flash_ContentText__03CFH",ContentInstructions:"Flash_ContentInstructions__ZQ4um",Contentlabel:"Flash_Contentlabel__SqV4P",labelContainer:"Flash_labelContainer__TD6eR",labelLeft:"Flash_labelLeft__ePHyJ",labelRight:"Flash_labelRight__pbzFc",CalculatedValue:"Flash_CalculatedValue__rfI2a",Ustyle:"Flash_Ustyle__5tdUd"}}},function(t){t.O(0,[8310,80676,21203,38173,79844,92971,8069,1744],function(){return t(t.s=20623)}),_N_E=t.O()}]);