(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91290,43098,58183],{93553:function(e,t,n){Promise.resolve().then(n.bind(n,68216)),Promise.resolve().then(n.bind(n,18286)),Promise.resolve().then(n.bind(n,32155)),Promise.resolve().then(n.bind(n,19721))},41263:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});let a=[{inputs:[{internalType:"address",name:"_zsdtToken",type:"address"},{internalType:"address",name:"_usdtToken",type:"address"},{internalType:"address",name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"},{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"addToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"getAmountZSDOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"removeFromWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdtReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"}],name:"usdtTokenTozsdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"zsdReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"zsdtTokenTousdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"}]},68216:function(e,t,n){"use strict";n.r(t),n.d(t,{client:function(){return w}});var a=n(3827),s=n(64090),r=n(87741),i=n(47275),o=n(14698),l=n(46188),d=n(45890),c=n(94293),u=n(14297),m=n(62830),p=n(22665),h=n(80588),y=n(38302),f=n(28683),b=n(70968),Z=n(1861),_=n(50096),x=n(37321),C=n(66403);n(37432);var T=n(71007),j=n(21427),g=n(41263),v=n(9727),S=n.n(v);let w=(0,r.P)({clientId:"ade9791d6b0b87ea307ef47d4903708c"}),F=T.u,D=j.F,A=g.q;t.default=()=>{let[e,t]=(0,s.useState)(!0),[n,r]=(0,s.useState)(!0),[T,j]=(0,s.useState)(!1),[g,v]=(0,s.useState)(),[N,P]=(0,s.useState)(),[R,M]=(0,s.useState)(),k=(0,u.M)(),[U]=p.Z.useForm(),[I]=p.Z.useForm(),[O]=p.Z.useForm(),{mutate:V,isPending:z}=(0,m.p)(),B=(0,i.u)({client:w,address:C.c.USDTaddress,chain:x.d}),L=(0,i.u)({client:w,address:C.c.ZSDaddress,abi:F,chain:x.d}),q=(0,i.u)({client:w,address:C.c.ZSDPROJECTAddress,abi:D,chain:x.d});(0,i.u)({client:w,address:C.c.ZSDSwapAddress,abi:A,chain:x.d});let E=e=>{I.resetFields(),v(""),P(""),M(""),t(!e),r(!0);let n=e.trim();if(""===n){v(""),P(""),M(""),O.setFieldsValue({zsdAddress:""});return}let a=parseFloat(n);if(isNaN(a)){v("0"),P("0"),O.setFieldsValue({zsdAddress:"0"});return}let s=Number((7*a/3).toFixed(2));v(n),P(s);let i=s/.1;M(i),O.setFieldsValue({zsdAddress:i})},H=e=>{let t=(3*parseFloat(e)/7).toFixed(2);P(e),v(t),O.setFieldsValue({usdtInput:t})},W=()=>{j(!0)},G=()=>{j(!1)},J=async e=>{try{let t=(0,o.A)({contract:B,method:"function approve(address, uint256) returns (bool)",params:[C.c.ZSDaddress,1e25*1e18]});await (0,l.B)({transaction:t,account:k});let n=(0,o.A)({contract:q,method:"function depositUSDTFunds(uint256)",params:[(0,d.r0)(e)]}),a=await V(n);console.log(a,"resultresultresult"),h.ZP.info("您的USDT充值成功"),I.resetFields(),v(""),P(""),M(""),r(!0)}catch(e){console.error("充值交易失败:",e)}};async function K(e){try{let n=e.toString();try{await (0,c.readContract)({contract:L,method:"function balanceOf(address) view returns (uint256)",params:[k.address]});let a=await (0,c.readContract)({contract:L,method:"function allowance(address, address)",params:[k.address,C.c.ZSDaddress]}),s=1e29*1e18;if(a<=0){let e=(0,o.A)({contract:L,method:"function approve(address, uint256) returns (bool)",params:[C.c.ZSDaddress,s]});await (0,l.B)({transaction:e,account:k})}if(await (0,c.readContract)({contract:B,method:"function balanceOf(address) view returns (uint256)",params:[k.address]}),await (0,c.readContract)({contract:B,method:"function allowance(address, address)",params:[k.address,C.c.ZSDaddress]})<(0,d.r0)(e).valueOf()){let e=(0,o.A)({contract:B,method:"function approve(address, uint256) returns (bool)",params:[C.c.ZSDaddress,s]});await (0,l.B)({transaction:e,account:k})}let r=(0,o.A)({contract:q,method:"function depositUSDTANDZSDFunds(uint256)",params:[(0,d.r0)(n)]});await V(r),h.ZP.info("您的ZSD充值成功"),O.resetFields(),v(""),P(""),M(""),t(!0)}catch(e){console.error("充值交易失败:",e)}}catch(e){console.error("充值交易失败:",e)}}let Q=async()=>{try{if(n){if(!e){let e=U.getFieldsValue(),n=O.getFieldsValue();O.resetFields();try{n.usdtInput.toString();let a=1e25*1e18;await (0,c.readContract)({contract:B,method:"function balanceOf(address) view returns (uint256)",params:[e.RechargeAddress]}),await (0,c.readContract)({contract:L,method:"function balanceOf(address) view returns (uint256)",params:[e.RechargeAddress]}),await (0,c.readContract)({contract:L,method:"function allowance(address, address)",params:[e.RechargeAddress,C.c.ZSDaddress]});let s=(0,o.A)({contract:L,method:"function approve(address, uint256) returns (bool)",params:[C.c.ZSDaddress,a]});await (0,l.B)({transaction:s,account:e.RechargeAddress}),await (0,c.readContract)({contract:B,method:"function allowance(address, address)",params:[e.RechargeAddress,C.c.ZSDaddress]});let r=(0,o.A)({contract:B,method:"function approve(address, uint256) returns (bool)",params:[C.c.ZSDaddress,a]});await (0,l.B)({transaction:r,account:e.RechargeAddress}),h.ZP.info("您的ZSD充值成功"),O.resetFields(),v(""),P(""),M(""),t(!0)}catch(e){console.error("充值交易失败:",e)}}}else{let e=U.getFieldsValue(),t=I.getFieldsValue();I.resetFields();try{await (0,c.readContract)({contract:B,method:"function balanceOf(address) view returns (uint256)",params:[e.RechargeAddress]}),await (0,c.readContract)({contract:L,method:"function balanceOf(address) view returns (uint256)",params:[e.RechargeAddress]}),await (0,c.readContract)({contract:B,method:"function allowance(address, address)",params:[e.RechargeAddress,C.c.ZSDaddress]});let n=(0,o.A)({contract:B,method:"function approve(address, uint256) returns (bool)",params:[C.c.ZSDaddress,1e25*1e18]});await (0,l.B)({transaction:n,account:e.RechargeAddress});let a=(0,o.A)({contract:L,method:"function depositUSDTFunds(uint256)",params:[(0,d.r0)(t.USDT_one_SingleCharge)]});await V(a),h.ZP.info("您的USDT充值成功"),I.resetFields(),v(""),P(""),M(""),r(!0)}catch(e){console.error("充值交易失败:",e)}}j(!1),U.resetFields()}catch(e){console.error("获取表单值时发生错误:",e)}},Y=async e=>{if(e.USDT_one_SingleCharge)try{e.USDT_one_SingleCharge&&await J(e.USDT_one_SingleCharge)}catch(e){console.error("处理充值请求时发生错误:",e)}else e.zsdAddress&&await K(e.zsdAddress)},$=(e,t)=>t?/^[0-9]*$/.test(t)?Promise.resolve():Promise.reject(Error("请输入有效的数字，不能输入负数和其他字符！")):Promise.resolve();return(0,s.useEffect)(()=>{O.setFieldsValue({usdtInput:g,zsdAddress:R})},[O,g,R]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:S().Content,children:(0,a.jsxs)(p.Z,{name:"amountUSDT",form:I,onFinish:Y,layout:"vertical",style:{color:"white"},children:[(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{label:(0,a.jsx)("span",{className:S().Contentlabel,children:"USDT"}),colon:!1,name:"USDT_one_SingleCharge",rules:[{required:!0,message:"请输入充入金额!"},{validator:$}],children:(0,a.jsx)(b.Z,{placeholder:"请输入充入金额",className:S().inputstyle,onChange:e=>{r(!e.target.value),t(!0),O.resetFields(),v(""),P(""),M("")}})})})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{children:(0,a.jsx)(Z.ZP,{type:"primary",htmlType:"submit",className:S().buttonstyle,children:"充值"})})})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{children:(0,a.jsx)(Z.ZP,{className:S().buttonHelpFriendstyle,onClick:W,disabled:n,children:"帮好友充值"})})})})]})}),(0,a.jsx)("div",{className:S().Content,children:(0,a.jsxs)(p.Z,{name:"amountZSD",form:O,onFinish:Y,layout:"vertical",style:{color:"white"},children:[(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{label:(0,a.jsx)("span",{className:S().Contentlabel,children:"USDT"}),colon:!1,name:"usdtInput",initialValue:g,rules:[{required:!0,message:"请输入充入金额!"},{validator:$}],children:(0,a.jsx)(b.Z,{placeholder:"请输入充入金额",value:g,onChange:e=>E(e.target.value),className:S().inputstyle})})})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsxs)("div",{className:S().labelContainer,children:[(0,a.jsx)("span",{className:S().labelLeft,children:"币"}),(0,a.jsx)("span",{className:S().labelRight,children:"ZSD: 0.1"})]})})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{colon:!1,name:"zsdAddress",children:(0,a.jsx)(b.Z,{className:S().inputstyle,value:R,disabled:!0,onChange:e=>H(e.target.value)})})})}),(0,a.jsx)(y.Z,{style:{marginBottom:"20px"},children:(0,a.jsxs)(f.Z,{span:24,children:[(0,a.jsxs)("span",{className:S().CalculatedValue,children:["USDT+币：",parseFloat(g||0)+parseFloat(N||0)]}),(0,a.jsx)("span",{className:S().Ustyle,children:"U"})]})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{children:(0,a.jsx)(Z.ZP,{type:"primary",htmlType:"submit",className:S().buttonstyle,children:"充值"})})})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{children:(0,a.jsx)(Z.ZP,{className:S().buttonHelpFriendstyle,onClick:W,disabled:e,children:"帮好友充值"})})})})]})}),(0,a.jsx)(_.Z,{title:"",open:T,onCancel:G,destroyOnClose:!0,footer:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)(Z.ZP,{onClick:G,className:S().Cancelstyle,children:"取消"}),(0,a.jsx)(Z.ZP,{className:S().verifystyle,htmlType:"submit",onClick:Q,children:"确认"})]}),children:(0,a.jsx)(p.Z,{form:U,name:"friendRechargeForm",children:(0,a.jsxs)(y.Z,{children:[(0,a.jsx)("div",{className:S().Topmodel,children:"帮好友充值"}),(0,a.jsx)(f.Z,{span:24,children:(0,a.jsx)(p.Z.Item,{name:"RechargeAddress",label:"充值地址",children:(0,a.jsx)(b.Z,{className:S().inputstyle,placeholder:"请输入充值的地址"})})})]})})})]})}},18286:function(e,t,n){"use strict";n.r(t),n.d(t,{MenuContext:function(){return r},MenuProvider:function(){return i}});var a=n(3827),s=n(64090);let r=(0,s.createContext)({isRightMenuVisible:!1,toggleRightMenu:()=>{},hideRightMenu:()=>{}}),i=e=>{let{children:t}=e,[n,i]=(0,s.useState)(!1);return(0,a.jsx)(r.Provider,{value:{isRightMenuVisible:n,toggleRightMenu:()=>{i(e=>!e)},hideRightMenu:()=>{i(!1)}},children:t})}},9727:function(e){e.exports={Content:"Commonform_Content__FdWuI",inputstyle:"Commonform_inputstyle___N4U7",buttonstyle:"Commonform_buttonstyle__PfcD_",buttonHelpFriendstyle:"Commonform_buttonHelpFriendstyle__8gcwO",ContentText:"Commonform_ContentText__SH_Mr",ContentInstructions:"Commonform_ContentInstructions__fhVwR",Contentlabel:"Commonform_Contentlabel__oTbdy",labelContainer:"Commonform_labelContainer__PeKPM",labelLeft:"Commonform_labelLeft__x9Gxx",labelRight:"Commonform_labelRight__1p4Ff",CalculatedValue:"Commonform_CalculatedValue__5cLYk",Ustyle:"Commonform_Ustyle__22Qmr",Topmodel:"Commonform_Topmodel__LfF4F",Cancelstyle:"Commonform_Cancelstyle__lMnvt",verifystyle:"Commonform_verifystyle__l98Z_"}}},function(e){e.O(0,[27508,8310,3003,80676,77693,82429,69736,79844,28200,92971,8069,1744],function(){return e(e.s=93553)}),_N_E=e.O()}]);