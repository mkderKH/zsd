(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32642,16244,43098],{98154:function(e,t,n){Promise.resolve().then(n.bind(n,1308)),Promise.resolve().then(n.bind(n,18286)),Promise.resolve().then(n.bind(n,32155)),Promise.resolve().then(n.bind(n,19721))},66403:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});let a={USDTaddress:"0xed650c5d7a5dc96988bcc0bd8215807abb773db7",ZSDaddress:"0x1795c00e24bebd12d1a6f0f733a8e652bdd1e303"}},37432:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"usdtAmount",type:"uint256"},{indexed:!0,internalType:"uint256",name:"zsdAmount",type:"uint256"}],name:"DepositUSDTANDZSDFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"DepositUSDTFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"referrer",type:"address"}],name:"Registered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"WithdraZSDFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"refer",type:"address"},{indexed:!0,internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"refereWared",type:"event"},{inputs:[],name:"ONE_DAY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"},{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"addToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"useraddress",type:"address"},{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"addusdt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"depositList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"depositUSDTANDZSDFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"depositUSDTFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getReferralCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getReferrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"holders",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"referrer",type:"address"}],name:"register",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"registered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"registers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"removeFromWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalHolders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalRegisters",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdtReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"}],name:"usdtTokenTozsdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"address",name:"referrer",type:"address"},{internalType:"uint256",name:"referralCount",type:"uint256"},{internalType:"uint256",name:"withdrawUSDTBalances",type:"uint256"},{internalType:"uint256",name:"withdrawZSDBalances",type:"uint256"},{internalType:"uint256",name:"lastActionTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdraZSDFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawEther",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"zsdReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"zsdtTokenTousdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"}]},1308:function(e,t,n){"use strict";n.r(t),n.d(t,{client:function(){return C}});var a=n(3827),i=n(64090),s=n(87741),r=n(47275),l=n(94293),u=n(14698),o=n(46188),d=n(22665),p=n(38302),c=n(28683),y=n(70968),m=n(1861),T=n(14297),x=n(62830),b=n(46802),h=n.n(b),v=n(66403),f=n(37321),w=n(37432);let C=(0,s.P)({clientId:"ade9791d6b0b87ea307ef47d4903708c"}),S=w.T,_=(0,r.u)({client:C,address:v.c.USDTaddress,chain:f.d}),g=(0,r.u)({client:C,address:v.c.ZSDaddress,chain:f.d,abi:S});t.default=()=>{let[e]=d.Z.useForm(),t=(0,T.M)(),[n,s]=(0,i.useState)(),[r,b]=(0,i.useState)(),[f,w]=(0,i.useState)(),[C,S]=(0,i.useState)(),[j,M]=(0,i.useState)(),{mutate:D,isPending:N}=(0,x.p)(),[E,I]=(0,i.useState)(null);(0,i.useEffect)(()=>{t&&I(t)},[t]);let k=async e=>{if(!g){console.error("Contract or account is not defined");return}try{await (0,l.readContract)({contract:_,method:"function allowance(address, address)",params:[E.address,v.c.ZSDaddress]});let e=(0,u.A)({contract:_,method:"function approve(address, uint256) returns (bool)",params:[v.c.ZSDaddress,1e25*1e18]});await (0,o.B)({transaction:e,account:E});let t=(0,u.A)({contract:g,method:"withdraZSDFunds",params:[]});await D(t)}catch(e){console.error("提取失败:",e)}};return(0,i.useEffect)(()=>{let e=async()=>{if(!g||!E){console.error("Contract is not defined");return}try{let e=await (0,l.readContract)({contract:_,method:"function balanceOf(address) view returns (uint256)",params:[E.address]}),t=BigInt(e.toString())/BigInt(1e12),n=parseFloat(t.toString()),a=0==n?n:(parseFloat(t.toString())/1e6).toFixed(2),i=await (0,l.readContract)({contract:g,method:"function balanceOf(address) view returns (uint256)",params:[E.address]}),r=BigInt(i.toString())/BigInt(1e12),u=parseFloat(r.toString()),o=0==u?u:(parseFloat(r.toString())/1e6).toFixed(2);s(a),b(o);let d=await (0,l.readContract)({contract:g,method:"users",params:[E.address]}),p=d[2]+d[3],c=BigInt(p.toString())/BigInt(1e12),y=parseFloat(c.toString()),m=0==y?y:(parseFloat(c.toString())/1e6).toFixed(2);w(m),S(d[3].toString()),M(d[1].toString())}catch(e){console.error("查询余额失败:",e)}};E&&e()},[E]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:h().Content,children:[(0,a.jsx)("span",{className:h().ContentText,children:"我的账户"}),(0,a.jsxs)("div",{className:h().currencycontainer,children:[(0,a.jsxs)("div",{className:h().currencyrow,children:[(0,a.jsx)("div",{className:h().USDTstyle,children:"USDT(枚)"}),(0,a.jsx)("div",{className:h().USDTnuber,children:n})]}),(0,a.jsxs)("div",{className:h().currencyrow,children:[(0,a.jsx)("div",{className:h().USDTstyle,children:"ZSD(枚)"}),(0,a.jsx)("div",{className:h().USDTnuber,children:r})]})]})]}),(0,a.jsxs)("div",{className:h().Content,children:[(0,a.jsx)("span",{className:h().ContentText,children:"提取代币"}),(0,a.jsx)("div",{className:h().ContentInstructions,children:"(这里是提取代币的说明)"}),(0,a.jsxs)(d.Z,{name:"amount",onFinish:k,layout:"vertical",form:e,style:{color:"white"},initialValues:{USDT_two_amount:f,USDT_two_ZSD:C},children:[(0,a.jsx)(p.Z,{children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)("div",{className:h().labelContainer,children:(0,a.jsx)("span",{className:h().labelLeft,children:"我的总算力"})})})}),(0,a.jsx)(p.Z,{children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(d.Z.Item,{colon:!1,name:"USDT_two_amount",children:(0,a.jsx)(y.Z,{className:h().inputstyle,disabled:!0,placeholder:f,value:f})})})}),(0,a.jsx)(p.Z,{children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(d.Z.Item,{colon:!1,name:"USDT_two_ZSD",children:(0,a.jsx)(y.Z,{className:h().inputstyle,addonAfter:"ZSD",disabled:!0,placeholder:C})})})}),(0,a.jsx)(p.Z,{children:(0,a.jsx)(c.Z,{span:24,className:h().cost,children:(0,a.jsx)("span",{className:h().CalculatedValue,children:"当前ZSD价值 1ZSD=0.5USDT"})})}),(0,a.jsx)(p.Z,{children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(d.Z.Item,{children:(0,a.jsx)(m.ZP,{type:"primary",htmlType:"submit",className:h().buttonstyle,children:"提取"})})})})]})]}),(0,a.jsxs)("div",{className:h().Content,children:[(0,a.jsx)("span",{className:h().ContentText,children:"我的团队"}),(0,a.jsxs)("div",{className:h().currencycontainer,children:[(0,a.jsxs)("div",{className:h().currencyrow,children:[(0,a.jsx)("div",{className:h().NumberPeoplestyle,children:j}),(0,a.jsx)("div",{className:h().NumberPeople,children:"直推人数"})]}),(0,a.jsxs)("div",{className:h().currencyrow,children:[(0,a.jsx)("div",{className:h().NumberPeoplestyle,children:"0"}),(0,a.jsx)("div",{className:h().NumberPeople,children:"团队人数"})]})]})]})]})}},18286:function(e,t,n){"use strict";n.r(t),n.d(t,{MenuContext:function(){return s},MenuProvider:function(){return r}});var a=n(3827),i=n(64090);let s=(0,i.createContext)({isRightMenuVisible:!1,toggleRightMenu:()=>{},hideRightMenu:()=>{}}),r=e=>{let{children:t}=e,[n,r]=(0,i.useState)(!1);return(0,a.jsx)(s.Provider,{value:{isRightMenuVisible:n,toggleRightMenu:()=>{r(e=>!e)},hideRightMenu:()=>{r(!1)}},children:t})}},19721:function(e,t,n){"use strict";function a(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),n(99775)},46802:function(e){e.exports={Content:"IndividualCenter_Content___wjvr",inputstyle:"IndividualCenter_inputstyle__AcblX",buttonstyle:"IndividualCenter_buttonstyle__Wde1P",buttonHelpFriendstyle:"IndividualCenter_buttonHelpFriendstyle__1sxJA",ContentText:"IndividualCenter_ContentText__fjVfp",ContentInstructions:"IndividualCenter_ContentInstructions__DnXFI",Contentlabel:"IndividualCenter_Contentlabel__ieI3e",labelContainer:"IndividualCenter_labelContainer__FWyom",labelLeft:"IndividualCenter_labelLeft__o1rVM",labelRight:"IndividualCenter_labelRight__OCH3M",cost:"IndividualCenter_cost__4UJFY",CalculatedValue:"IndividualCenter_CalculatedValue__v0Tdv",Ustyle:"IndividualCenter_Ustyle__C9Ndz",currencycontainer:"IndividualCenter_currencycontainer__Yq8YW",currencyrow:"IndividualCenter_currencyrow__kuwEE",USDTstyle:"IndividualCenter_USDTstyle__AqPUb",USDTnuber:"IndividualCenter_USDTnuber__gY5Nt",NumberPeoplestyle:"IndividualCenter_NumberPeoplestyle__fNiXR",NumberPeople:"IndividualCenter_NumberPeople__pf1sL"}},51787:function(e,t,n){"use strict";n.d(t,{u:function(){return w},t:function(){return f}});var a=n(20568),i=n(85738);let s=(0,i.ax)({id:84532,name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}],testnet:!0}),r=(0,i.ax)({id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}]}),l=(0,i.ax)({id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}],testnet:!0}),u=(0,i.ax)({id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io"}]}),o=(0,i.ax)({id:999999999,name:"Zora Sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},blockExplorers:[{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/",apiUrl:"https://sepolia.explorer.zora.energy/api"}],testnet:!0}),d=(0,i.ax)({id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},blockExplorers:[{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}]}),p=[r.id,s.id,u.id,l.id,d.id,o.id,34443,919,42220,44787,204,5611];var c=n(27180),y=n(94646),m=n(45890),T=n(78725);async function x(e){var t,a,i,s;let r;let{transaction:l}=e,u=null!==(i=null!==(a=e.from)&&void 0!==a?a:null===(t=e.account)||void 0===t?void 0:t.address)&&void 0!==i?i:void 0,o=await (0,y.q)(l.gas)||await (0,T.Q)({transaction:l,from:u}),d=await (0,c.o)({client:l.client,chain:l.chain});if(s=l.chain,p.includes(s.id)){let{estimateL1Fee:e}=await n.e(82295).then(n.bind(n,82295));r=await e({transaction:l})}else r=0n;let x=o*d+r;return{ether:(0,m.n9)(x),wei:x}}var b=n(71551),h=n(73303),v=n(80383);function f(e){let{showPayModal:t,gasless:n,wallet:i,switchChain:s}=e,r=null==i?void 0:i.getAccount();return(0,a.useMutation)({mutationFn:async e=>{var a;i&&e.chain.id!==(null===(a=i.getChain())||void 0===a?void 0:a.id)&&(await s(e.chain),r=i.getAccount());let l=r;if(!l)throw Error("No active account");return t?new Promise((a,i)=>{let s=async()=>{try{let t=await (0,b.sendTransaction)({transaction:e,account:l,gasless:n});a(t)}catch(e){i(e)}};(async()=>{try{if(!(await (0,v.MY)(e.client)).find(t=>t.chain.id===e.chain.id)){s();return}let[n,r]=await Promise.all([(0,h.p)({address:l.address,chain:e.chain,client:e.client}),w(e,null==l?void 0:l.address)]),u=n.value;if(r<u){s();return}t({tx:e,sendTx:s,rejectTx:i,resolveTx:a,totalCostWei:r,walletBalance:n})}catch(e){console.error("Failed to estimate cost",e),s()}})()}):(0,b.sendTransaction)({transaction:e,account:l,gasless:n})}})}async function w(e,t){try{let n=await x({transaction:e,from:t}),a=n.wei/10n,i=await (0,y.q)(e.value);return n.wei+a+(i||0n)}catch(a){if(t)return await w(e);let n=await (0,y.q)(e.value);if(!n)return 0n;return n+n/100n}}},62830:function(e,t,n){"use strict";n.d(t,{p:function(){return S}});var a=n(3827),i=n(62177),s=n(64090),r=n(4966),l=n(72568),u=n(51787),o=n(57146),d=n(37697),p=n(99263),c=n(89288),y=n(97285),m=n(4654),T=n(972),x=n(53326),b=n(31137),h=n(3702),v=n(32788),f=n(48762),w=n(86122),C=n(46226);function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,w.r)(),n=(0,C.l)(),i=(0,w.r)(),r=e.payModal,l=!0;if((!1===r||e.gasless)&&(l=!1),t&&"smart"===t.id){let e=t.getConfig();"sponsorGas"in e&&!0===e.sponsorGas&&(l=!1),"gasless"in e&&!0===e.gasless&&(l=!1)}let d=(0,s.useContext)(o.SetRootElementContext);return(0,u.t)({showPayModal:l&&!1!==r?e=>{d((0,a.jsx)(_,{tx:e.tx,onComplete:e.sendTx,onClose:()=>{d(null),e.rejectTx(Error("User rejected transaction by closing modal"))},onTxSent:e.resolveTx,client:e.tx.client,localeId:(null==r?void 0:r.locale)||"en_US",supportedTokens:null==r?void 0:r.supportedTokens,theme:(null==r?void 0:r.theme)||"dark",txCostWei:e.totalCostWei,walletBalanceWei:e.walletBalance.value,nativeTokenSymbol:e.walletBalance.symbol,payOptions:{buyWithCrypto:null==r?void 0:r.buyWithCrypto,buyWithFiat:null==r?void 0:r.buyWithFiat,purchaseData:null==r?void 0:r.purchaseData}}))}:void 0,gasless:e.gasless,switchChain:n,wallet:i})}function _(e){return(0,a.jsx)(r.CustomThemeProvider,{theme:e.theme,children:(0,a.jsx)(m.Modal,{open:!0,size:"compact",setOpen:t=>{t||e.onClose()},children:(0,a.jsx)(g,{...e})})})}function g(e){let t=(0,p.q)(e.localeId),[n,i]=(0,s.useState)("buy");return t.data?"execute-tx"===n?(0,a.jsx)(j,{tx:e.tx,closeModal:e.onClose,onTxSent:e.onTxSent}):"tx-history"===n?(0,a.jsx)(y.BuyTxHistory,{client:e.client,onBack:()=>{i("buy")},onDone:()=>{i("execute-tx")},isBuyForTx:!0,isEmbed:!1}):(0,a.jsx)(c.I,{isEmbed:!1,client:e.client,onViewPendingTx:()=>{i("tx-history")},supportedTokens:e.supportedTokens,connectLocale:t.data,buyForTx:{balance:e.walletBalanceWei,cost:e.txCostWei,tx:e.tx,tokenSymbol:e.nativeTokenSymbol},theme:"string"==typeof e.theme?e.theme:e.theme.type,payOptions:e.payOptions,onDone:()=>{i("execute-tx")},connectOptions:void 0,onBack:void 0}):(0,a.jsx)(f.a,{})}function j(e){let t=S({payModal:!1}),[n,r]=(0,s.useState)("loading"),u=(0,s.useCallback)(async()=>{r("loading");try{let n=await t.mutateAsync(e.tx);e.onTxSent(n),r("sent")}catch(e){console.error(e),r("failed")}},[t,e.tx,e.onTxSent]),o=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{o.current||(o.current=!0,u())},[u]),(0,a.jsxs)(b.Container,{p:"lg",children:[(0,a.jsx)(b.ModalHeader,{title:"Transaction"}),(0,a.jsx)(T.L,{y:"xxl"}),(0,a.jsx)(T.L,{y:"xxl"}),(0,a.jsxs)(b.Container,{flex:"row",center:"x",children:["loading"===n&&(0,a.jsx)(x.Spinner,{size:"3xl",color:"accentText"}),"failed"===n&&(0,a.jsx)(d.E,{size:l.EA["3xl"]}),"sent"===n&&(0,a.jsx)(b.Container,{color:"success",flex:"row",center:"both",children:(0,a.jsx)(i.NhS,{width:l.EA["3xl"],height:l.EA["3xl"]})})]}),(0,a.jsx)(T.L,{y:"lg"}),(0,a.jsxs)(v.Text,{color:"primaryText",center:!0,size:"lg",children:["loading"===n&&"Sending transaction","failed"===n&&"Transaction failed","sent"===n&&"Transaction sent"]}),(0,a.jsx)(T.L,{y:"xxl"}),(0,a.jsx)(T.L,{y:"xxl"}),"failed"===n&&(0,a.jsx)(h.Button,{variant:"accent",fullWidth:!0,onClick:u,children:"Try Again"}),"sent"===n&&(0,a.jsx)(h.Button,{variant:"accent",fullWidth:!0,onClick:e.closeModal,children:"Done"})]})}}},function(e){e.O(0,[27508,8310,3003,80676,77693,82429,28200,92971,8069,1744],function(){return e(e.s=98154)}),_N_E=e.O()}]);