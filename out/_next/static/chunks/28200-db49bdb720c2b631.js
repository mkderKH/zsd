(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28200,35883],{35883:function(){},32155:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var a=n(3827),s=n(64090),o=n(14297),l=n(20703),i=n(44600),r=n.n(i),c=n(61996),d=n.n(c),u=n(22665),m=n(80588),p=n(50096),h=n(1861),g=n(38302),_=n(28683),y=n(70968),f=n(28928),v=n(63805),M=n(37321),C=n(87741);let x="ade9791d6b0b87ea307ef47d4903708c";if(!x)throw Error("No client ID provided");let j=(0,C.P)({clientId:x});var R=n(3726),T=n.n(R),w=n(47275),N=n(14698),S=n(46188),b=n(94293),k=n(66403),W=n(37432),Z=n(71007),U=n(21427);let P=W.T,B=Z.u,Y=U.F,E=[(0,f.E)("io.metamask"),(0,f.E)("com.coinbase.wallet"),(0,f.a)()],K=(0,w.u)({client:j,address:k.c.ZSDaddress,chain:M.d,abi:P}),A=(0,w.u)({client:j,address:k.c.USDTaddress,chain:M.d,abi:P});(0,w.u)({client:j,address:k.c.ZSDaddress,abi:B,chain:M.d});let Q=(0,w.u)({client:j,address:k.c.ZSDPROJECTAddress,chain:M.d,abi:Y});var F=()=>{let[e,t]=(0,s.useState)(!1),[n]=u.Z.useForm(),l=(0,o.M)(),i=async e=>{try{await e.disconnect()}catch(e){console.error("Failed to disconnect wallet:",e),m.ZP.error("登出钱包失败，请稍后重试。")}},r=async()=>{if(!E||0===E.length){m.ZP.error("没有可登出的钱包"),t(!1);return}try{await Promise.all(E.map(i)),m.ZP.error("未填写邀请码，钱包已登出"),t(!1)}catch(e){m.ZP.error("登出钱包失败，请重试。")}},c=async()=>{if(console.log(l,"是否登录111111111111111111111111111111111111111"),!l){m.ZP.error("请登录");return}let e=window.location.search,n=new URLSearchParams(e).get("ref");console.log(l.address,"邀请人地址:",n);try{let e=(0,N.A)({contract:Q,method:"function register(address)",params:[n]}),t=await (0,S.B)({transaction:e,account:l});console.log("查询是否已注册:",t);let a=await (0,b.readContract)({contract:A,method:"function balanceOf(address) view returns (uint256)",params:[l.address]});console.log("USDT余额:",a);let s=await (0,b.readContract)({contract:A,method:"function allowance(address, address)",params:[l.address,k.c.ZSDPROJECTAddress]});if(0==s){m.ZP.info("请授权ZSD合约使用您的USDT");return}let o=(0,N.A)({contract:A,method:"function approve(address, uint256) returns (bool)",params:[k.c.ZSDPROJECTAddress,1e25*1e18]});console.log(o,"tx1"),await (0,S.B)({transaction:o,account:l})}catch(n){console.log("查询是否已注册:",n);let e=n.toString().split("\n")[0].match(/TransactionError: Error - (.+)/);if(e&&e[1]){switch(e[1]){case"referrer has not deposited":m.ZP.info("邀请人必须已经投资过");break;case"User already registered":m.ZP.info("邀请用户未注册");break;case"You cannot refer":m.ZP.info("邀请人和用户不是同一个人");break;default:m.ZP.error("发生未知错误")}t(!0)}else n instanceof TypeError?n.message.includes("Cannot read properties of null (reading '1')")?m.ZP.error("发生错误：尝试读取 null 对象的属性"):m.ZP.error("发生类型错误"):m.ZP.error("请输入邀请人地址"),t(!0)}},d=async()=>{let e=n.getFieldsValue().Invitelink;console.log(e,"======111==========",l);try{let t=(0,N.A)({contract:K,method:"function register(address)",params:[e]}),n=await (0,S.B)({transaction:t,account:l}),a=await (0,b.readContract)({contract:A,method:"function balanceOf(address) view returns (uint256)",params:[l.address]});console.log("USDT余额:",a);let s=await (0,b.readContract)({contract:A,method:"function allowance(address, address)",params:[l.address,k.c.ZSDPROJECTAddress]});if(0==s){m.ZP.info("请授权ZSD合约使用您的USDT");return}let o=(0,N.A)({contract:A,method:"function approve(address, uint256) returns (bool)",params:[k.c.ZSDPROJECTAddress,1e25*1e18]});await (0,S.B)({transaction:o,account:l}),console.log("查询是否已注册:",n)}catch(n){let e=n.toString().split("\n")[0].match(/TransactionError: Error - (.+)/);if(e&&e[1]){switch(e[1]){case"referrer has not deposited":m.ZP.info("邀请人必须已经投资过");break;case"User already registered":m.ZP.info("邀请用户未注册");break;case"You cannot refer":m.ZP.info("邀请人和用户不是同一个人");break;default:m.ZP.error("发生未知错误")}t(!0)}else n instanceof TypeError?n.message.includes("Cannot read properties of null (reading '1')")?m.ZP.error("发生错误：尝试读取 null 对象的属性"):m.ZP.error("发生类型错误"):m.ZP.error("输入错误，请输入正确的邀请人地址"),t(!0)}};return(0,s.useEffect)(()=>{l&&c()},[l]),(0,a.jsxs)("div",{children:[(0,a.jsx)(v.ConnectButton,{theme:"dark",connectModal:{size:"compact"},wallets:E,client:j,chain:M.d}),l&&(0,a.jsx)(p.Z,{title:"",open:e,onOk:()=>{t(!1)},onCancel:r,destroyOnClose:!0,footer:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)(h.ZP,{onClick:r,className:T().Cancelstyle,children:"取消"}),(0,a.jsx)(h.ZP,{className:T().verifystyle,htmlType:"submit",onClick:d,children:"确认"})]}),children:(0,a.jsx)(u.Z,{form:n,name:"friendRechargeForm",children:(0,a.jsxs)(g.Z,{children:[(0,a.jsx)("div",{className:T().Topmodel,children:"邀请人地址"}),(0,a.jsx)(_.Z,{span:24,children:(0,a.jsx)(u.Z.Item,{name:"Invitelink",children:(0,a.jsx)(y.Z,{className:T().inputstyle,placeholder:"请填写/粘帖邀请链地址"})})})]})})})]})},V=e=>{let{onToggleRightMenu:t}=e;return(0,a.jsxs)("div",{className:d().pagetop,children:[(0,a.jsx)(l.default,{className:d().m1,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/coin.png",alt:"coin",width:50,height:50}),(0,a.jsx)(F,{}),(0,a.jsx)(l.default,{className:d().m2,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/selectorSwitch.png",alt:"selectorSwitch",width:50,height:50}),(0,a.jsx)(l.default,{onClick:t,className:d().m3,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/menu.png",alt:"menu",width:50,height:50})]})},q=n(47907),I=n(60809),D=n.n(I);let O=()=>"clipboard"in navigator,L=async e=>{try{if(O())await navigator.clipboard.writeText(e),m.ZP.success("复制成功");else{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?m.ZP.success("复制成功"):m.ZP.error("复制失败，请稍后重试")}catch(e){m.ZP.error("复制失败，请稍后重试")}finally{document.body.removeChild(t)}}}catch(e){console.error("复制时发生错误：",e),m.ZP.error("复制失败，请稍后重试")}};var H=()=>{let e=(0,q.useRouter)(),t=()=>{L("这里是你想要复制的文本1")};return(0,a.jsxs)("div",{className:D().rightMenu,"data-id":"RightMenu",children:[(0,a.jsxs)("div",{"data-id":"RightMenu",className:D().row,onClick:()=>e.push("/HomeLess"),children:[(0,a.jsx)(l.default,{"data-id":"RightMenu",className:D().img,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/sy.png",alt:"coin",width:50,height:50}),(0,a.jsx)("div",{"data-id":"RightMenu",className:D().text,children:"首页"})]}),(0,a.jsxs)("div",{"data-id":"RightMenu",className:D().row,onClick:()=>e.push("/Machine"),children:[(0,a.jsx)(l.default,{"data-id":"RightMenu",className:D().img,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/kj.png",alt:"coin",width:50,height:50}),(0,a.jsx)("div",{"data-id":"RightMenu",className:D().text,children:"矿机"})]}),(0,a.jsxs)("div",{"data-id":"RightMenu",className:D().row,onClick:()=>e.push("/Flash"),children:[(0,a.jsx)(l.default,{"data-id":"RightMenu",className:D().img,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/sd.png",alt:"coin",width:50,height:50}),(0,a.jsx)("div",{"data-id":"RightMenu",className:D().text,children:"闪兑"})]}),(0,a.jsxs)("div",{"data-id":"RightMenu",className:D().row,onClick:()=>e.push("/Community"),children:[(0,a.jsx)(l.default,{"data-id":"RightMenu",className:D().img,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/sq.png",alt:"coin",width:50,height:50}),(0,a.jsx)("div",{"data-id":"RightMenu",className:D().text,children:"社区"})]}),(0,a.jsxs)("div",{"data-id":"RightMenu",className:D().row,onClick:()=>t(),children:[(0,a.jsx)(l.default,{"data-id":"RightMenu",className:D().img,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/yqm.png",alt:"coin",width:50,height:50}),(0,a.jsx)("div",{"data-id":"RightMenu",className:D().text,children:"邀请码"})]}),(0,a.jsxs)("div",{"data-id":"RightMenu",className:D().row,onClick:()=>e.push("/Personal"),children:[(0,a.jsx)(l.default,{"data-id":"RightMenu",className:D().img,src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/grzx.png",alt:"coin",width:50,height:50}),(0,a.jsx)("div",{"data-id":"RightMenu",className:D().text,children:"个人中心"})]})]})},J=n(18286);let z=[{link:"/Machine",url:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/kj.png",name:"矿机",en:"MINING MACHINE"},{link:"/Personal",url:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/gxzx.png",name:"个人中心",en:"PERSONAL CENTER"},{link:"/Community",url:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/sq.png",name:"社区",en:"COMMUNITY"},{link:"/InCode",url:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/yqm.png",name:"邀请码",en:"INVITATION CODE"},{link:"/HomeLess",url:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/sy.png",name:"首页",en:"HOME"},{link:"/Flash",url:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmUenvyCWQKeYUps8d3dMotqie98MRcFKYWcsV1vSgAvSj/sd.png",name:"闪兑",en:"INSTANT EXCHANGE"}];var G=()=>{let e=(0,q.useRouter)(),t=(0,o.M)(),n=t=>{e.push(t.link)},i=()=>{L("http://localhost:3000/HomeLess?ref=".concat(t.address))},{isRightMenuVisible:c,toggleRightMenu:d,hideRightMenu:u}=(0,s.useContext)(J.MenuContext),m=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=e=>{m.current&&"RightMenu"!==e.target.dataset.id&&u()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]),(0,a.jsxs)("div",{className:r().pageMenu,children:[c&&(0,a.jsx)(H,{}),(0,a.jsx)(V,{onToggleRightMenu:d}),(0,a.jsx)("div",{className:r().videoBackground,id:"nav",children:(0,a.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,id:"bg-video",children:(0,a.jsx)("source",{src:"https://salmon-fortunate-goat-221.mypinata.cloud/ipfs/QmYHibrfvBUmBhxitkovCGL8kHX2nurtB7TPAkhjLknZM8",type:"video/mp4"})})}),(0,a.jsx)("div",{className:r().top,ref:m,children:z.map((e,t)=>(console.log(e,"===============================",t),"/InCode"===e.link)?(0,a.jsxs)("div",{className:"".concat(r()["menyBtn"+t]," ").concat(r().menyBtn),onClick:i,children:[(0,a.jsx)(l.default,{className:"".concat(r()["img"+t]),src:e.url,alt:e.name,width:50,height:50}),(0,a.jsx)("div",{className:r()["menyBtn-n"],children:e.name}),(0,a.jsx)("div",{className:r()["menyBtn-e"],children:e.en})]},t):(0,a.jsxs)("div",{className:"".concat(r()["menyBtn"+t]," ").concat(r().menyBtn),onClick:()=>n(e),children:[(0,a.jsx)(l.default,{className:"".concat(r()["img"+t]),src:e.url,alt:e.name,width:50,height:50}),(0,a.jsx)("div",{className:r()["menyBtn-n"],children:e.name}),(0,a.jsx)("div",{className:r()["menyBtn-e"],children:e.en})]},t))})]})}},3726:function(e){e.exports={Content:"CallWallet_Content__VZGXB",inputstyle:"CallWallet_inputstyle__LHCrR",buttonstyle:"CallWallet_buttonstyle__SyHTQ",buttonHelpFriendstyle:"CallWallet_buttonHelpFriendstyle__ODMLq",ContentText:"CallWallet_ContentText__IDVTv",ContentInstructions:"CallWallet_ContentInstructions__ENJFV",Contentlabel:"CallWallet_Contentlabel__qhJjI",labelContainer:"CallWallet_labelContainer__C9S6y",labelLeft:"CallWallet_labelLeft__Wxi2I",labelRight:"CallWallet_labelRight__GI3Yg",CalculatedValue:"CallWallet_CalculatedValue__wVHD9",Ustyle:"CallWallet_Ustyle__mvYTw",Topmodel:"CallWallet_Topmodel__KVhWO",Cancelstyle:"CallWallet_Cancelstyle__KKA_f",verifystyle:"CallWallet_verifystyle__TpKJE"}},60809:function(e){e.exports={rightMenu:"RightMenu_rightMenu__4Vdi0",row:"RightMenu_row__vVKio",img:"RightMenu_img__LvhXL",text:"RightMenu_text__kgeAO","video-background":"RightMenu_video-background__VO7sD",content:"RightMenu_content__zza7R"}},44600:function(e){e.exports={pageMenu:"TopMenu_pageMenu__tgFwW",top:"TopMenu_top__CE9fR",menyBtn0:"TopMenu_menyBtn0__OU6ht",menyBtn1:"TopMenu_menyBtn1__wpmzY",menyBtn2:"TopMenu_menyBtn2__9YB4v",menyBtn3:"TopMenu_menyBtn3__42O5W",menyBtn4:"TopMenu_menyBtn4__jMDkX",menyBtn5:"TopMenu_menyBtn5__YwPul",menyBtn:"TopMenu_menyBtn__5Rl_B","menyBtn-n":"TopMenu_menyBtn-n___3oET","menyBtn-e":"TopMenu_menyBtn-e__o7RuC",img0:"TopMenu_img0__EwxhJ",img1:"TopMenu_img1__U8byq",img2:"TopMenu_img2__Ixg5G",img3:"TopMenu_img3__sypae",img4:"TopMenu_img4__IL4yF",img5:"TopMenu_img5__ZAun1","video-background":"TopMenu_video-background__40Bxp",content:"TopMenu_content__s8Xj1"}},61996:function(e){e.exports={pagetop:"Top_pagetop__5k2y2",m1:"Top_m1__eJ96o",m2:"Top_m2__Leibv",m3:"Top_m3__8JExu",ljqb:"Top_ljqb__ktoyc","css-bedeeg":"Top_css-bedeeg__caJQv",deep:"Top_deep__7n1oN"}}}]);